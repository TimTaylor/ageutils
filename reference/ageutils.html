<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This help page documents the utility functions provided for working with
individual ages and associated intervals:
breaks_to_interval() takes a specified set of breaks representing the left
hand limits of a closed open interval, i.e [x, y), and returns the
corresponding interval and upper bounds. The resulting intervals span from
the minimum break through to Inf.
cut_ages() provides categorisation of ages based on specified breaks which
represent the left-hand interval limits. The resultant groupings will span
from the minimum break through to Inf and will always be closed on the left
and open on the right. Ages below the minimum break will be returned as NA.
As an example, if breaks = c(0, 1, 10, 30) the possible groupings would be
[0, 1), [1, 10), [10, 30) and [30, Inf). This is roughly comparable
to a call of cut(ages, right = FALSE, breaks = c(limits, Inf)) but with
both the resultant interval and the start and end points returned as entries
in a list.
split_interval_counts() splits counts of a given age interval in to counts
for individual years based on a given weighting. Age intervals are specified
by their lower (closed) and upper (open) bounds, i.e. intervals of the form
[lower, upper).
aggregate_age_counts() provides aggregation of counts across ages (in
years). It is similar to a cut() and tapply() pattern but optimised for
speed over flexibility. Groupings are the same as in ages_to_interval()
and counts will be provided across all natural numbers grater than the
minimum break. Missing values, and those less than the minimum break, are
grouped as NA.
reaggregate_interval_counts() is equivalent to, but more efficient than,
a call to split_interval_counts() followed by aggregate_age_counts()."><title>Utilities for Age Intervals — ageutils • ageutils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Utilities for Age Intervals — ageutils"><meta property="og:description" content="This help page documents the utility functions provided for working with
individual ages and associated intervals:
breaks_to_interval() takes a specified set of breaks representing the left
hand limits of a closed open interval, i.e [x, y), and returns the
corresponding interval and upper bounds. The resulting intervals span from
the minimum break through to Inf.
cut_ages() provides categorisation of ages based on specified breaks which
represent the left-hand interval limits. The resultant groupings will span
from the minimum break through to Inf and will always be closed on the left
and open on the right. Ages below the minimum break will be returned as NA.
As an example, if breaks = c(0, 1, 10, 30) the possible groupings would be
[0, 1), [1, 10), [10, 30) and [30, Inf). This is roughly comparable
to a call of cut(ages, right = FALSE, breaks = c(limits, Inf)) but with
both the resultant interval and the start and end points returned as entries
in a list.
split_interval_counts() splits counts of a given age interval in to counts
for individual years based on a given weighting. Age intervals are specified
by their lower (closed) and upper (open) bounds, i.e. intervals of the form
[lower, upper).
aggregate_age_counts() provides aggregation of counts across ages (in
years). It is similar to a cut() and tapply() pattern but optimised for
speed over flexibility. Groupings are the same as in ages_to_interval()
and counts will be provided across all natural numbers grater than the
minimum break. Missing values, and those less than the minimum break, are
grouped as NA.
reaggregate_interval_counts() is equivalent to, but more efficient than,
a call to split_interval_counts() followed by aggregate_age_counts()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ageutils</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/ageutils.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/TimTaylor/ageutils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Utilities for Age Intervals</h1>
      <small class="dont-index">Source: <a href="https://github.com/TimTaylor/ageutils/blob/HEAD/R/ageutils.R" class="external-link"><code>R/ageutils.R</code></a></small>
      <div class="d-none name"><code>ageutils.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This help page documents the utility functions provided for working with
individual ages and associated intervals:</p>
<p><code>breaks_to_interval()</code> takes a specified set of breaks representing the left
hand limits of a closed open interval, i.e [x, y), and returns the
corresponding interval and upper bounds. The resulting intervals span from
the minimum break through to <code>Inf</code>.</p>
<p><code>cut_ages()</code> provides categorisation of ages based on specified breaks which
represent the left-hand interval limits. The resultant groupings will span
from the minimum break through to <code>Inf</code> and will always be closed on the left
and open on the right. Ages below the minimum break will be returned as NA.
As an example, if <code>breaks = c(0, 1, 10, 30)</code> the possible groupings would be
[0, 1), [1, 10), [10, 30) and [30, Inf). This is roughly comparable
to a call of <code>cut(ages, right = FALSE, breaks = c(limits, Inf))</code> but with
both the resultant interval and the start and end points returned as entries
in a list.</p>
<p><code>split_interval_counts()</code> splits counts of a given age interval in to counts
for individual years based on a given weighting. Age intervals are specified
by their lower (closed) and upper (open) bounds, i.e. intervals of the form
[lower, upper).</p>
<p><code>aggregate_age_counts()</code> provides aggregation of counts across ages (in
years). It is similar to a <code><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut()</a></code> and <code><a href="https://rdrr.io/r/base/tapply.html" class="external-link">tapply()</a></code> pattern but optimised for
speed over flexibility. Groupings are the same as in <code>ages_to_interval()</code>
and counts will be provided across all natural numbers grater than the
minimum break. Missing values, and those less than the minimum break, are
grouped as NA.</p>
<p><code>reaggregate_interval_counts()</code> is equivalent to, but more efficient than,
a call to <code>split_interval_counts()</code> followed by <code>aggregate_age_counts()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">breaks_to_interval</span><span class="op">(</span><span class="va">breaks</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">cut_ages</span><span class="op">(</span><span class="va">ages</span>, <span class="va">breaks</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">split_interval_counts</span><span class="op">(</span></span>
<span>  <span class="va">lower_bounds</span>,</span>
<span>  <span class="va">upper_bounds</span>,</span>
<span>  <span class="va">counts</span>,</span>
<span>  max_upper <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">aggregate_age_counts</span><span class="op">(</span><span class="va">counts</span>, ages <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">counts</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1L</span><span class="op">)</span>, <span class="va">breaks</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reaggregate_interval_counts</span><span class="op">(</span></span>
<span>  <span class="va">lower_bounds</span>,</span>
<span>  <span class="va">upper_bounds</span>,</span>
<span>  <span class="va">counts</span>,</span>
<span>  <span class="va">breaks</span>,</span>
<span>  max_upper <span class="op">=</span> <span class="fl">100L</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>breaks</dt>
<dd><p><code>[numeric]</code>.</p>
<p>1 or more non-negative cut points in increasing (strictly) order.</p>
<p>These correspond to the left hand side of the desired intervals (e.g. the
closed side of [x, y).</p>
<p>Double values are coerced to integer prior to categorisation.</p></dd>


<dt>ages</dt>
<dd><p><code>[numeric]</code>.</p>
<p>Vector of age in years.</p>
<p>Double values are coerced to integer prior to categorisation / aggregation.</p>
<p>For <code>aggregate_age_counts()</code>, these must corresponding to the <code>counts</code> entry
and will defaults to 0:(N-1) where <code>N</code> is the number of counts present.</p>
<p><code>ages</code> &gt;= 200 are not permitted due to the internal implementation.</p></dd>


<dt>lower_bounds, upper_bounds</dt>
<dd><p><code>[integerish]</code>.</p>
<p>A pair of vectors representing the bounds of the intervals.</p>
<p><code>lower_bounds</code> must be strictly less than <code>upper_bounds</code> and greater than or
equal to zero.</p>
<p>Missing (NA) bounds are not permitted.</p>
<p>Double vectors will be coerced to integer.</p></dd>


<dt>counts</dt>
<dd><p><code>[numeric]</code>.</p>
<p>Vector of counts to be aggregated.</p></dd>


<dt>max_upper</dt>
<dd><p><code>[integerish]</code></p>
<p>Represents the maximum upper bounds permitted upon splitting the data.</p>
<p>Used to replace <code>Inf</code> upper bounds prior to splitting.</p>
<p>If any <code>upper_bound</code> is greater than <code>max_upper</code> the function will error.</p>
<p>Double vectors will be coerced to integer.</p></dd>


<dt>weights</dt>
<dd><p><code>[numeric]</code></p>
<p>Population weightings to apply for individual years.</p>
<p>If <code>NULL</code> (default) counts will be split evenly based on interval size.</p>
<p>If specified, must be of length <code>max_upper</code> and represent weights in the
range 0:(max_upper - 1).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>breaks_to_interval()</code> and <code>cut_ages()</code>:</p>


<p>A data frame with an ordered factor column (<code>interval</code>), as well as columns
corresponding to the explicit bounds (<code>lower_bound</code> and <code>upper_bound</code>).</p>


<p><code>split_interval_counts()</code>:</p>


<p>A data frame with entries <code>age</code> (in years) and <code>count</code>.</p>


<p><code>aggregate_age_counts()</code> and <code>reaggregate_interval_counts()</code>:</p>


<p>A data frame with 4 entries; <code>interval</code>, <code>lower_bound</code>, <code>upper_bound</code> and an
associated <code>count</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cut_ages</span><span class="op">(</span>ages <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">9</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">3L</span>, <span class="fl">5L</span>, <span class="fl">10L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    [0, 3)           0           3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    [0, 3)           0           3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    [0, 3)           0           3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    [3, 5)           3           5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    [3, 5)           3           5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   [5, 10)           5          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   [5, 10)           5          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   [5, 10)           5          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   [5, 10)           5          10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  [5, 10)           5          10</span>
<span class="r-in"><span><span class="fu">cut_ages</span><span class="op">(</span>ages <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">9</span>, breaks <span class="op">=</span> <span class="fl">5L</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      &lt;NA&gt;          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      &lt;NA&gt;          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      &lt;NA&gt;          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      &lt;NA&gt;          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      &lt;NA&gt;          NA          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  [5, Inf)           5         Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  [5, Inf)           5         Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  [5, Inf)           5         Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  [5, Inf)           5         Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 [5, Inf)           5         Inf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">split_interval_counts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    lower_bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    upper_bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    counts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    age count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    2     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    3     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    4     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    5     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    6     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    7     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    8     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   9     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  10     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  11     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  12     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  13     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  14     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  15     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  16     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  17     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  18     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  19     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># default ages generated if only counts provided (here ages will be 0:64)</span></span></span>
<span class="r-in"><span><span class="fu">aggregate_age_counts</span><span class="op">(</span>counts <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">65</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">15L</span>, <span class="fl">25L</span>, <span class="fl">45L</span>, <span class="fl">65L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    [0, 1)           0           1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    [1, 5)           1           5    14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   [5, 15)           5          15   105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  [15, 25)          15          25   205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  [25, 45)          25          45   710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  [45, 65)          45          65  1110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 [65, Inf)          65         Inf     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      &lt;NA&gt;          NA          NA     0</span>
<span class="r-in"><span><span class="fu">aggregate_age_counts</span><span class="op">(</span>counts <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">65</span>, breaks <span class="op">=</span> <span class="fl">50L</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 [50, Inf)          50         Inf   870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      &lt;NA&gt;          NA          NA  1275</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># NA ages are handled with their own grouping</span></span></span>
<span class="r-in"><span><span class="va">ages</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">65</span>;</span></span>
<span class="r-in"><span><span class="va">ages</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">44</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="fu">aggregate_age_counts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    counts <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">65</span>,</span></span>
<span class="r-in"><span>    ages <span class="op">=</span> <span class="va">ages</span>,</span></span>
<span class="r-in"><span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">15L</span>, <span class="fl">25L</span>, <span class="fl">45L</span>, <span class="fl">65L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    [0, 1)           0           1     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    [1, 5)           1           5     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   [5, 15)           5          15     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  [15, 25)          15          25     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  [25, 45)          25          45     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  [45, 65)          45          65  1090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 [65, Inf)          65         Inf    65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      &lt;NA&gt;          NA          NA   990</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">reaggregate_interval_counts</span><span class="op">(</span></span></span>
<span class="r-in"><span>    lower_bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    upper_bounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    counts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">15L</span>, <span class="fl">25L</span>, <span class="fl">45L</span>, <span class="fl">65L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    interval lower_bound upper_bound count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    [0, 1)           0           1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    [1, 5)           1           5     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   [5, 15)           5          15    25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  [15, 25)          15          25    15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  [25, 45)          25          45     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  [45, 65)          45          65     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 [65, Inf)          65         Inf     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      &lt;NA&gt;          NA          NA     0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tim Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

